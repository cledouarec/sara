---
id: "ADR-003"
type: architecture_decision_record
name: "Use Zigbee for Wireless Device Mesh"
description: >
  Decision to use Zigbee 3.0 for the wireless mesh network connecting smart
  devices to the central hub.
status: accepted
deciders:
  - "Smart Home Architecture Team"
  - "Hardware Engineering Lead"
justifies:
  - "HWDD-ZIGBEE"
---

# Use Zigbee for Wireless Device Mesh

## Context

Smart home devices need a wireless protocol to communicate with the central
hub. The protocol must support:

- Low power consumption for battery-operated sensors
- Mesh networking for whole-home coverage
- Reliable delivery in RF-noisy environments
- Support for hundreds of devices per network

We evaluated three leading IoT wireless protocols:

- **Zigbee 3.0**: Mature mesh protocol, 2.4 GHz, low power
- **Z-Wave**: Proprietary mesh, sub-GHz, excellent range
- **Thread/Matter**: New IP-based mesh, emerging standard

## Decision

Use Zigbee 3.0 as the primary wireless protocol for device-to-hub
communication.

## Rationale

1. **Proven mesh networking**: Self-healing mesh extends range throughout the
   home without requiring Wi-Fi coverage in every room

2. **Low power consumption**: Sleepy end devices can run for years on coin
   cell batteries, essential for door/window sensors

3. **Device ecosystem**: Thousands of certified Zigbee devices available,
   ensuring customer choice and interoperability

4. **Mature tooling**: Well-documented stacks, development kits, and
   certification programs reduce time-to-market

5. **2.4 GHz global band**: Single hardware SKU works worldwide without
   regional RF variants

6. **Cost-effective modules**: High-volume production has driven module costs
   below $3 at scale

## Consequences

### Positive

- Large ecosystem of compatible third-party devices
- Proven reliability in production deployments
- Low BOM cost for device hardware
- Global regulatory compliance with single design

### Negative

- 2.4 GHz band congestion in dense Wi-Fi environments
- Limited bandwidth (~250 kbps) restricts use cases
- Zigbee coordinator required on hub (not pure peer-to-peer)

### Risks

- Matter/Thread adoption may shift market preference (monitor and plan
  migration path)
- Interference from Wi-Fi 6E expansion into 6 GHz could push more devices to
  2.4 GHz

## Alternatives Considered

### Z-Wave

Sub-GHz operation provides better range and less Wi-Fi interference. Rejected
due to:
- Proprietary protocol with licensing fees
- Regional frequency variants require multiple hardware SKUs
- Smaller device ecosystem than Zigbee

### Thread/Matter

IP-based mesh with strong industry backing. Deferred because:
- Standard still maturing (certification gaps)
- Limited device availability at decision time
- Plan to add Thread support in future hub revision
